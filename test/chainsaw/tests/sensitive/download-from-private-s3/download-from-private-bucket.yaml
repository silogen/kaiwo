apiVersion: kaiwo.silogen.ai/v1alpha1
kind: KaiwoJob
metadata:
  name: download-from-public-bucket
  namespace: kaiwo-test
spec:
  user: test@amd.com
  gpus: 0
  resources:
    limits:
      cpu: "1"
      memory: "1Gi"
    requests:
      cpu: "1"
      memory: "1Gi"
  image: busybox:latest
  entrypoint: |
    sleep 1
  storage:
    storageEnabled: true
    storageClassName: "standard"
    accessMode: "ReadWriteOnce"
    data:
      storageSize: "1Mi"
      mountPath: "/workload"
      download:
        s3:
          - endpointUrl:
              secretName: minio-secret
              secretKey: endpoint
            accessKeyId:
              secretName: minio-secret
              secretKey: access_key_id
            buckets:
              - name: open-images-dataset
                files:
                  - path: landing-pages/0002af1f7839dd0d.html
                    targetPath: s3/file01.html