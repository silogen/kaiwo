apiVersion: aim.silogen.ai/v1alpha1
kind: AIMService
metadata:
  name: dummy-w-kvcache
spec:
  model:
    image: ttl.sh/03049acb-f146-4ca2-9dca-62050799c4ae:1h # change to latest after deploy
  env:
    - name: AIM_ENGINE_ARGS
      value: '{"from-spec": "true"}'
  defaultStorageClassName: rwx-nfs
  kvCache:
    #name: shared-redis-cache
    type: redis
    image: redis:latest
    resources:
      limits:
        cpu: "0.8"
        memory: 2Gi
    lmCacheConfig: |
      local_cpu: false
      chunk_size: 200
      max_local_cpu_size: 1.0
      remote_url: "redis://{SERVICE_URL}"
      remote_serde: "naive"
    storage:
      storageClassName: rwx-nfs
